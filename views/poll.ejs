<html lang="en">

<head>
    <%- include('./partials/head.ejs') %>
    <script src="/poll-scripts.js"></script>
</head>

<body>
    <div class="container">
        <img src="assets/logo.png">
        <% if (Object.keys(pollData).length > 0) { %>
            <h1><%= pollData.question %></h1>
            <% let optionOne = pollData.options.find(option => option.optionId === 1);%>
            <% let optionTwo = pollData.options.find(option => option.optionId === 2);%>
            <% let optionThree = pollData.options.find(option => option.optionId === 3);%>
            <% let choices = [ {option: optionOne.optionText}, {option: optionTwo.optionText}, {option: optionThree.optionText}]; %>
            <% let buttonCounter = 1; %>
            <% choices.forEach(option => { %>
                <button type="button" class="option" id="<%= buttonCounter %>"><%= option.option %></button>
                <% buttonCounter++; %>
            <% }) %>
            <button type="button" class="submit">SUBMIT</button>
        <% } else { %>
            <div>
                <h1>No Poll Data Available</h1>
            </div>
        <% } %>
    </div>
</body>
</html>